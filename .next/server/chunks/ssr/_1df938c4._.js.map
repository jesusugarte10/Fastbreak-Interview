{"version":3,"sources":["../../../../src/lib/actions/auth.ts","../../../../.next-internal/server/app/%28app%29/dashboard/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["'use server'\n\nimport { createClient } from '@/lib/supabase/server'\nimport { revalidatePath } from 'next/cache'\nimport { redirect } from 'next/navigation'\nimport { safeAction } from './safe-action'\n\nexport async function signUpAction(formData: FormData) {\n  return safeAction(async () => {\n    const email = formData.get('email') as string\n    const password = formData.get('password') as string\n\n    if (!email || !password) {\n      throw new Error('Email and password are required')\n    }\n\n    const supabase = await createClient()\n    const { error } = await supabase.auth.signUp({\n      email,\n      password,\n      options: {\n        emailRedirectTo: `${process.env.NEXT_PUBLIC_SITE_URL}/auth/callback`,\n      },\n    })\n\n    if (error) throw error\n  })\n}\n\nexport async function signInAction(formData: FormData) {\n  return safeAction(async () => {\n    const email = formData.get('email') as string\n    const password = formData.get('password') as string\n\n    if (!email || !password) {\n      throw new Error('Email and password are required')\n    }\n\n    const supabase = await createClient()\n    const { error } = await supabase.auth.signInWithPassword({\n      email,\n      password,\n    })\n\n    if (error) throw error\n\n    revalidatePath('/', 'layout')\n    redirect('/dashboard')\n  })\n}\n\nexport async function signOutAction() {\n  return safeAction(async () => {\n    const supabase = await createClient()\n    const { error } = await supabase.auth.signOut()\n\n    if (error) throw error\n\n    revalidatePath('/', 'layout')\n    redirect('/login')\n  })\n}\n\nexport async function signInWithGoogleAction() {\n  return safeAction(async () => {\n    const supabase = await createClient()\n    const { data, error } = await supabase.auth.signInWithOAuth({\n      provider: 'google',\n      options: {\n        redirectTo: `${process.env.NEXT_PUBLIC_SITE_URL}/auth/callback`,\n      },\n    })\n\n    if (error) throw error\n    if (data.url) {\n      redirect(data.url)\n    }\n  })\n}\n\n","export {signOutAction as '00f7ffa5e12426fda95aeb06a40701170ecb9a4a86'} from 'ACTIONS_MODULE0'\nexport {getEventAction as '40182f6a6348716596c5e7c21858bd6b598e61f882'} from 'ACTIONS_MODULE1'\nexport {deleteEventAction as '4068d37969dce08117df524bef739a065bef7522ec'} from 'ACTIONS_MODULE1'\nexport {createEventAction as '40b39ebc34e7d8f46aade6149cf0353eb7f8df0ffc'} from 'ACTIONS_MODULE1'\nexport {listEventsAction as '60030fde6e04a002a59d378c0632d7963cce9d6bd4'} from 'ACTIONS_MODULE1'\nexport {updateEventAction as '60c194771ef1eb710d0ccb4f6008faf99b8d84fea2'} from 'ACTIONS_MODULE1'\nexport {deleteEventAction as '4068d37969dce08117df524bef739a065bef7522ec'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEO,eAAe,EAAa,CAAkB,EACnD,MAAO,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,UAChB,IAAM,EAAQ,EAAS,GAAG,CAAC,SACrB,EAAW,EAAS,GAAG,CAAC,YAE9B,GAAI,CAAC,GAAS,CAAC,EACb,MAAM,AAAI,EADa,IACP,mCAGlB,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,YAAA,AAAY,IAC7B,OAAE,CAAK,CAAE,CAAG,MAAM,EAAS,IAAI,CAAC,MAAM,CAAC,OAC3C,WACA,EACA,QAAS,CACP,gBAAiB,qCACnB,CACF,GAEA,GAAI,EAAO,MAAM,CACnB,EACF,CAEO,KARsD,UAQvC,EAAa,CAAkB,CARsB,CAAC,AAS1E,MAAO,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,UAChB,IAAM,EAAQ,EAAS,GAAG,CAAC,SACrB,EAAW,EAAS,GAAG,CAAC,YAE9B,GAAI,CAAC,GAAS,CAAC,EACb,MAAM,AAAI,EADa,IACP,mCAGlB,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,YAAA,AAAY,IAC7B,OAAE,CAAK,CAAE,CAAG,MAAM,EAAS,IAAI,CAAC,kBAAkB,CAAC,OACvD,WACA,CACF,GAEA,GAAI,EAAO,MAAM,EAEjB,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,IAAK,UACpB,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,aACX,EACF,CAEO,eAAe,IACpB,MAAO,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,UAChB,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,YAAY,AAAZ,IACjB,OAAE,CAAK,CAAE,CAAG,MAAM,EAAS,IAAI,CAAC,OAAO,GAE7C,GAAI,EAAO,MAAM,EAEjB,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,IAAK,UACpB,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,SACX,EACF,CAEO,eAAe,IACpB,MAAO,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,UAChB,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,YAAA,AAAY,IAC7B,MAAE,CAAI,CAAE,OAAK,CAAE,CAAG,MAAM,EAAS,IAAI,CAAC,eAAe,CAAC,CAC1D,SAAU,SACV,QAAS,CACP,WAAY,qCACd,CACF,GAEA,GAAI,EAAO,MAAM,EACb,EAAK,GAAG,EALwC,AAKtC,AACZ,CAAA,EAAA,EAAA,QAAA,AAAQ,CANwD,CAMvD,AANwD,EAMnD,GAAG,CAErB,EACF,0CAvEsB,EAsBA,EAsBA,EAYA,IAxDA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,MAsBA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,MAsBA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,MAYA,CAAA,EAAA,EAAA,uBAAA,EAAA,EAAA,6CAAA,mIC/DtB,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA"}